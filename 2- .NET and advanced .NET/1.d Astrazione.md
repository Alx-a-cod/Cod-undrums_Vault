
L’**astrazione** è uno dei 4 pilastri dell’OOP.  

Significa <span style="color: #8392a4">nascondere i dettagli implementativi</span> e **mostrare solo ciò che è essenziale** per l’uso di un oggetto.  

> In altre parole, un utente della classe deve conoscere <span style="color: #e5a216">cosa fa</span> un oggetto, ma non **come lo fa**.

---

## Concetti chiave

1. **Nascondere i dettagli complessi**
   - L’utente non deve sapere l’implementazione interna.  
   - Esempio: quando usi una `List<T>` sai che ha `Add()` e `Remove()`, ma non sai i dettagli dell’array interno.

2. **Definire un contratto**  
   - L’astrazione si ottiene tramite **classi astratte** e **interfacce**.  
   - Forniscono una struttura base, lasciando alle classi concrete il compito di implementare i dettagli.

3. **Separazione tra interfaccia e implementazione**  
   - Favorisce modularità, estensibilità e riuso.

---

## 1. Astrazione con Classi Astratte

- ==Non possono essere istanziate.==  
- Possono contenere sia metodi **con implementazione** che metodi **astratti** (senza corpo).  
- Le classi derivate **devono** implementare i metodi astratti.

```csharp
public abstract class Pagamento
{
    public decimal Importo { get; set; }

    // Metodo astratto: nessuna implementazione qui
    public abstract void Esegui();

    // Metodo concreto: implementazione comune
    public void MostraImporto()
    {
        Console.WriteLine($"Importo da pagare: {Importo} €");
    }
}

public class PagamentoCarta : Pagamento
{
    public override void Esegui()
    {
        Console.WriteLine("Pagamento effettuato con carta di credito.");
    }
}

public class PagamentoContanti : Pagamento
{
    public override void Esegui()
    {
        Console.WriteLine("Pagamento effettuato in contanti.");
    }
}

class Program
{
    static void Main()
    {
        Pagamento p1 = new PagamentoCarta { Importo = 100 };
        Pagamento p2 = new PagamentoContanti { Importo = 50 };

        p1.MostraImporto();
        p1.Esegui();

        p2.MostraImporto();
        p2.Esegui();
    }
}
```

### Astrazione con Interfacce

- Definiscono solo un contratto (metodi/proprietà da implementare).
- Nessuna implementazione (fino a C# 8, poi sono stati introdotti i default implementations).
- Una classe può implementare più interfacce → supporta “multi-ereditarietà di comportamento”.

```csharp
public interface INotifica
{
    void Invia(string messaggio);
}

public class EmailNotifica : INotifica
{
    public void Invia(string messaggio)
    {
        Console.WriteLine($"Email inviata: {messaggio}");
    }
}

public class SmsNotifica : INotifica
{
    public void Invia(string messaggio)
    {
        Console.WriteLine($"SMS inviato: {messaggio}");
    }
}

class Program
{
    static void Main()
    {
        INotifica notifica1 = new EmailNotifica();
        INotifica notifica2 = new SmsNotifica();

        notifica1.Invia("Benvenuto nel sistema!");
        notifica2.Invia("Il tuo ordine è stato spedito!");
    }
}
```
### Vantaggi dell’Astrazione

-  Semplificazione: l’utente si concentra solo su ciò che serve.
-  Modularità: ogni parte del sistema è indipendente.
-  Flessibilità: facile cambiare implementazione senza toccare il codice cliente.
-  Estendibilità: nuovi tipi possono essere aggiunti senza modificare l’esistente.

### Sintesi:

>L’astrazione consiste nel definire solo gli aspetti essenziali di un oggetto, nascondendo i dettagli implementativi.
>**In C# si realizza con classi astratte e interfacce.**
>Questo permette di progettare sistemi più flessibili, estensibili e manutenibili.

